"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[317],{86281:function(e,t,n){n.d(t,{f:function(){return a},ModalHelmetWrapper:function(){return f},d:function(){return g}});var a,o=n(57437),r=n(2265),l=n(96164),i=n(98492),s=n(86727),d=n(17847),c=n(85097),u=e=>{let{open:t,onClose:n,center:a,children:r}=e;return(0,o.jsx)("section",{className:(0,l.m6)("fixed inset-0 z-[1000] hidden",t&&"flex"),style:{backgroundColor:"rgba(0,0,0,0.5)"},onClick:e=>{e.stopPropagation(),n(!1)},children:(0,o.jsx)("div",{className:(0,l.m6)(a&&"absolute top-[50%] left-[50%]"),style:{...a&&{transform:"translate(-50%,-50%)"}},children:(0,o.jsxs)(d.E.div,{className:(0,l.m6)("relative p-8 rounded-lg bg-primary dark:bg-dark-primary"),variants:{hide:{y:-100,visibility:"hidden",opacity:0},show:{y:0,visibility:"visible",opacity:1}},initial:"hide",animate:t?"show":"hide",onClick:e=>{e.stopPropagation()},children:[(0,o.jsx)(c.bjh,{className:"absolute size-6 right-4 top-4 cursor-pointer dark:text-text-color-dark",onClick:e=>{n(!1),e.stopPropagation()}}),r]})})})},h=n(75735),m=n(60094),p=e=>{let{...t}=e,{auth:n}=(0,m.E)(),a=[{icon:(0,o.jsx)(i.ie,{className:"size-5"}),label:"Sign in with Google",handleClick:()=>{let e=new h.hJ;e.addScope("profile"),e.addScope("email"),(0,h.rh)(n,e).then(()=>{t.onClose(!1)}).catch(e=>{console.log(e)})}},{icon:(0,o.jsx)(i.Ey,{className:"group-hover/lgItem:text-white dark:group-hover/lgItem:text-text-color size-5 dark:text-white text-text-color"}),label:"Sign in with Github",handleClick:()=>{let e=new h.GH;e.addScope("user"),e.addScope("read:user"),e.addScope("user:email"),(0,h.rh)(n,e).then(()=>{t.onClose(!1)}).catch(e=>{console.log(e)})}},{icon:(0,o.jsx)(i.s1,{className:"size-5 "}),label:"Sign in with Facebook",handleClick:()=>{let e=new h._O;e.addScope("public_profile"),e.addScope("email"),(0,h.rh)(n,e).then(()=>{t.onClose(!1)}).catch(e=>{console.log(e)})}}];return(0,o.jsx)(u,{...t,children:(0,o.jsxs)("div",{className:"min-w-[376px] flex flex-col",children:[(0,o.jsx)(s.Z,{component:"h2",className:"text-[1.5rem] font-bold leading-6",children:"Welcome back"}),(0,o.jsx)("div",{className:"flex flex-col mt-12 gap-4",children:a.map((e,t)=>{let{icon:n,label:a,handleClick:r}=e;return(0,o.jsxs)("div",{className:(0,l.m6)("group/lgItem","cursor-pointer flex justify-center items-center p-[10px_20px] rounded-lg","border-solid border-[1px] border-secondary","hover:bg-gray-secondary"),onClick:r,children:[n,(0,o.jsx)(s.Z,{className:(0,l.m6)("ml-2 font-bold dark:text-gray","group-hover/lgItem:text-text-color-dark"),children:a})]},"login_".concat(t))})})]})})};(a||(a={})).SIGN_IN="SIGN_IN";let x=r.createContext({states:[],closeModal:e=>{},openModal:(e,t)=>{}}),f=e=>{let{children:t}=e,[n,a]=(0,r.useState)([]),l=e=>{let t=[...n],o=n.findIndex(t=>t.key===e);-1!==o&&(t.splice(o,1),a(t))};return(0,o.jsxs)(x.Provider,{value:{states:n,closeModal:l,openModal:(e,t)=>{let o=[...n],r=n.findIndex(t=>t.key===e);-1!==r?(o[r].props=t,a(o)):a([...o,{key:e,props:t}])}},children:[t,n.map(e=>(0,o.jsx)(o.Fragment,{children:"SIGN_IN"===e.key&&(0,o.jsx)(p,{open:!0,onClose:e=>{l("SIGN_IN")},center:!0,...e.props})}))]})},g=()=>(0,r.useContext)(x)},60094:function(e,t,n){n.d(t,{default:function(){return f},E:function(){return x}});var a=n(57437),o=n(75735),r=n(83845);let l=(0,o.v0)(r.Z);var i=n(2265),s=n(60657),d=n(99854),c=n(18388);let u=(0,d.cF)(r.Z);class h{async uploadImageByUrl(e){let t=await new Promise((t,n)=>{let a=new Image;a.src=e.url,a.crossOrigin="anonymous",a.onload=function(){let e=document.createElement("canvas");e.width=a.width,e.height=a.height,e.getContext("2d").drawImage(a,0,0),e.toBlob(e=>{e?t(e):n(Error("Failed to convert image to blob"))})},a.onerror=function(){n(Error("Failed to convert image to blob"))}}),n=await (0,d.KV)((0,d.iH)(this.storage,e.fileName||"".concat((0,c.k)(),".").concat(t.type)),t);return{result:n,url:await (0,d.Jt)(n.ref)}}constructor(e){this.storage=e}}let m=new h(u),p=i.createContext({auth:l,eagerSignInLoading:!0,loading:!1,user:null,signOut:()=>{}}),x=()=>(0,i.useContext)(p);var f=e=>{let{children:t}=e,[n,r]=(0,i.useState)(null),[d,c]=(0,i.useState)(!0),[u,h]=(0,i.useState)(!1);return(0,i.useLayoutEffect)(()=>{let e=l.onAuthStateChanged(async e=>{if(h(!0),e){var t,n;let a=await s._.findById(e.uid),o={uid:e.uid,email:(null===(t=e.providerData[0])||void 0===t?void 0:t.email)||e.email,displayName:(null===(n=e.providerData[0])||void 0===n?void 0:n.displayName)||e.displayName,photoURL:(null==a?void 0:a.photoURL)||e.photoURL,providerPhotoUrl:e.photoURL};if(a&&(o={...a,...o}),!a&&(null==e?void 0:e.photoURL)||e.photoURL&&e.photoURL!==(null==a?void 0:a.providerPhotoUrl))try{let{url:t}=await m.uploadImageByUrl({url:e.photoURL,fileName:"avatar/".concat(e.uid,".png")});o={...o,photoURL:t}}catch(e){}await s._.upsert(o.uid,o),r(o)}else r(null);h(!1),c(!1)});return()=>{e()}},[]),(0,a.jsx)(p.Provider,{value:{user:n,auth:l,eagerSignInLoading:d,loading:u,signOut:()=>{(0,o.w7)(l)}},children:t})}},48330:function(e,t,n){n.d(t,{f:function(){return h}});var a=n(57437),o=n(2265),r=n(7905),l=n.n(r),i=n(78322),s=n.n(i);n(13789);var d=n(62737),c=n.n(d);c().extend(s()),c().extend(l());let u=o.createContext({posts:[],tags:[]}),h=()=>(0,o.useContext)(u);t.default=e=>{let{posts:t,children:n}=e,r=(0,o.useMemo)(()=>t.sort((e,t)=>c()(t.metadata.date,"DD-MM-YYYY").toDate().getTime()-c()(e.metadata.date,"DD-MM-YYYY").toDate().getTime()),[t]),l=(0,o.useMemo)(()=>t.reduce((e,t)=>(t.metadata.tags.forEach(t=>{e.add(t)}),e),new Set),[t]);return(0,a.jsx)(u.Provider,{value:{posts:r,tags:Array.from(l)},children:n})}},20065:function(e,t,n){n.d(t,{F:function(){return l}});var a=n(57437),o=n(2265);let r=o.createContext({theme:"light",setTheme:e=>{}}),l=()=>(0,o.useContext)(r);t.default=e=>{let{children:t}=e,[n,l]=(0,o.useState)("light"),[i,s]=(0,o.useState)(!1);return(0,o.useLayoutEffect)(()=>{let e=localStorage.getItem("theme")||"light";l(e),"light"==e?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark"),s(!0)},[]),(0,a.jsx)(r.Provider,{value:{theme:n,setTheme:e=>{l(e),localStorage.setItem("theme",e),document.documentElement.classList.toggle("dark")}},children:i&&(0,a.jsxs)(a.Fragment,{children:[" ",t]})})}},16683:function(e,t,n){n.d(t,{default:function(){return s},l:function(){return i}});var a=n(57437),o=n(2265);function r(e){let[t,n]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{let a=window.matchMedia(e);a.matches!==t&&n(a.matches);let o=()=>{n(a.matches)};return"function"==typeof a.addEventListener?a.addEventListener("change",o):a.addListener(o),()=>{"function"==typeof a.removeEventListener?a.removeEventListener("change",o):a.removeListener(o)}},[t,e]),t}let l=o.createContext({documentScrollTop:0,isTriggerScrollTop:!1,isSm:!1,isMd:!1,isLg:!1,isXl:!1,is2Xl:!1}),i=()=>(0,o.useContext)(l);var s=e=>{let{children:t}=e,[n,i]=(0,o.useState)(0),s=r("(min-width: 640px)"),d=r("(min-width: 768px)"),c=r("(min-width: 1024px)"),u=r("(min-width: 1280px)"),h=r("(min-width: 1536px)");(0,o.useLayoutEffect)(()=>{let e=()=>{i(document.documentElement.scrollTop)};return document.addEventListener("scroll",e),()=>{document.removeEventListener("scroll",e)}},[]);let m=(0,o.useMemo)(()=>n-80>0,[n]);return(0,a.jsx)(l.Provider,{value:{documentScrollTop:n,isTriggerScrollTop:m,isSm:s,isMd:d,is2Xl:h,isLg:c,isXl:u},children:t})}},83845:function(e,t,n){let a=(0,n(15236).ZF)({apiKey:"AIzaSyD63hodF2l2YG1qBYA3KrG_1lP6G34nHJY",authDomain:"duchuyhoangblog-5e5df.firebaseapp.com",databaseURL:"https://duchuyhoangblog-5e5df-default-rtdb.europe-west1.firebasedatabase.app",projectId:"duchuyhoangblog-5e5df",storageBucket:"duchuyhoangblog-5e5df.appspot.com",messagingSenderId:"1096120152389",appId:"1:1096120152389:web:a9dc5229dfdf01f9168e2c",measurementId:"G-B61M3RRE1T"});t.Z=a},12921:function(e,t,n){var a=n(69842),o=n(83845);let r=(0,a.ad)(o.Z);t.Z=r},58553:function(e,t,n){n.d(t,{Z:function(){return l}});var a=n(69842),o=n(12921),r=n(18388);class l{async upsert(e,t){let n=(0,a.JU)(this.ref,e);return(await (0,a.QT)(n)).exists()?(0,a.r7)(n,t):this.create(t,{id:e})}async create(e,t){let{id:n,...o}=t||{};return(0,a.pl)((0,a.JU)(this.ref,n||(0,r.k)()),e,o)}async findById(e){let t=(0,a.JU)(this.ref,e);return(await (0,a.QT)(t)).data()}async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[this.ref,...e];return(0,a.PL)(a.IO.apply(null,t))}async deleteByConditions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[this.ref,...e],n=await (0,a.PL)(a.IO.apply(null,t));await Promise.all(n.docs.map(async e=>{let t=(0,a.JU)(this.ref,e.id);await (0,a.oe)(t)}))}constructor(e,t){this.dbName=e,this.ref=t?(0,a.hJ)(o.Z,this.dbName).withConverter(t):(0,a.hJ)(o.Z,this.dbName)}}},60657:function(e,t,n){n.d(t,{_:function(){return r},y:function(){return o}});var a=n(58553);let o="users",r=new a.Z(o,null)},18388:function(e,t,n){n.d(t,{k:function(){return a}});function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}}}]);